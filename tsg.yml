templatePath: src/templates
staticPath: static
buildPath: build

context:
  site: data/site.graphql
  assets: ../../static/assets/manifest.json
  favicon: ../../static/assets/favicon-mainfest.json

images: &images
  default:
    w: 500
    h: 500
  small:
    w: 250
    h: 250
  medium:
    w: 500
    h: 500
  large:
    w: 1000
    h: 1000

routes:
  sitemap:
    path: /sitemap.xml
    template: feeds/sitemap.xml
    context: data/sitemap.graphql
    variables:
        images:
          <<: *images

  homepage:
    path: /
    template: pages/homepage.html
    context: data/homepage.graphql

  film:
    path: /film
    template: pages/film.html
    context: data/film.graphql
    variables:
        images:
          <<: *images

  still:
    path: /still
    template: pages/still.html
    context: data/still.graphql
    variables:
        images:
          <<: *images

  story:
    path: /story/:title
    template: pages/stories/detail.html
    context: data/story.graphql
    paginate:
      pageSize: 12
      firstPage: /blog/
      path: /blog/page-:num
      template: pages/stories/landing.html
      data: data/stories.graphql
      itemName: page
      variables:
        images:
          <<: *images

  destinations:
    path: /destinations
    template: pages/destinations.html
    context: data/destinations.graphql
    variables:
        images:
          <<: *images

  about:
    path: /about
    template: pages/about.html
    context: data/about.graphql
    variables:
        images:
          <<: *images

  filmCategory:
    path: /film/:title
    template: pages/film-category.html
    context: data/film-category.graphql
    paginate:
      data: data/film-categories.graphql
      itemName: page
    variables:
        images:
          <<: *images

  stillCategory:
    path: /still/:title
    template: pages/still-category.html
    context: data/still-category.graphql
    paginate:
      data: data/still-categories.graphql
      itemName: page
    variables:
        images:
          <<: *images

  category:
    path: /category/:title
    template: pages/category.html
    context: data/category.graphql
    paginate:
      data: data/categories.graphql
      itemName: page
    variables:
        images:
          <<: *images

  location:
    path: /destinations/:title
    template: pages/location.html
    context: data/location.graphql
    paginate:
      data: data/locations.graphql
      itemName: page
    variables:
        images:
          <<: *images

deploy:
  - ${buildPath}/static
